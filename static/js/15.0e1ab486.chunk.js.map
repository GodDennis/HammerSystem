{"version":3,"sources":["history.js","auth/FetchInterceptor.js","services/JwtAuthService.js","views/auth-views/components/RegisterForm.js","views/auth-views/authentication/register-2/index.js"],"names":["history","service","axios","create","baseURL","API_BASE_URL","timeout","ENTRY_ROUTE","interceptors","request","use","config","jwtToken","localStorage","getItem","AUTH_TOKEN","headers","push","window","location","reload","error","notification","message","Promise","reject","response","data","notificationParam","status","description","removeItem","JwtAuthService","fetch","url","method","rules","email","required","type","password","confirm","getFieldValue","validator","rule","value","resolve","mapDispatchToProps","showAuthMessage","hideAuthMessage","showLoading","authenticated","connect","auth","loading","showMessage","token","redirect","props","allowRedirect","Form","useForm","form","useHistory","useEffect","setTimeout","div","initial","opacity","marginBottom","animate","showIcon","layout","name","onFinish","validateFields","then","values","signUp","resp","e","catch","info","console","log","Item","label","hasFeedback","prefix","className","Password","htmlType","block","backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","RegisterTwo","theme","useSelector","state","currentTheme","justify","xs","sm","md","lg","xl","href","style","src","alt","onClick","preventDefault"],"mappings":"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","file":"static/js/15.0e1ab486.chunk.js","sourcesContent":["import * as history from 'history';\r\n\r\nexport default history.createBrowserHistory();","import axios from 'axios'\r\nimport { API_BASE_URL } from 'configs/AppConfig'\r\nimport history from '../history'\r\nimport { AUTH_TOKEN } from 'redux/constants/Auth'\r\nimport { notification } from 'antd';\r\n\r\nconst service = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 60000\r\n})\r\n\r\n// Config\r\nconst ENTRY_ROUTE = '/auth/login'\r\nconst TOKEN_PAYLOAD_KEY = 'authorization'\r\nconst PUBLIC_REQUEST_KEY = 'public-request'\r\n\r\n// API Request interceptor\r\nservice.interceptors.request.use(config => {\r\n\tconst jwtToken = localStorage.getItem(AUTH_TOKEN)\r\n\t\r\n  if (jwtToken) {\r\n    config.headers[TOKEN_PAYLOAD_KEY] = jwtToken\r\n  }\r\n\r\n  if (!jwtToken && !config.headers[PUBLIC_REQUEST_KEY]) {\r\n\t\thistory.push(ENTRY_ROUTE)\r\n\t\twindow.location.reload();\r\n  }\r\n\r\n  return config\r\n}, error => {\r\n\t// Do something with request error here\r\n\tnotification.error({\r\n\t\tmessage: 'Error'\r\n\t})\r\n  Promise.reject(error)\r\n})\r\n\r\n// API respone interceptor\r\nservice.interceptors.response.use( (response) => {\r\n\treturn response.data\r\n}, (error) => {\r\n\r\n\tlet notificationParam = {\r\n\t\tmessage: ''\r\n\t}\r\n\t\r\n\t// Remove token and redirect \r\n\tif (error.response.status === 400 || error.response.status === 403) {\r\n\t\tnotificationParam.message = 'Authentication Fail'\r\n\t\tnotificationParam.description = 'Please login again'\r\n\t\tlocalStorage.removeItem(AUTH_TOKEN)\r\n\t\thistory.push(ENTRY_ROUTE)\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\tif (error.response.status === 404) {\r\n\t\tnotificationParam.message = 'Not Found'\r\n\t}\r\n\r\n\tif (error.response.status === 500) {\r\n\t\tnotificationParam.message = 'Internal Server Error'\r\n\t}\r\n\t\r\n\tif (error.response.status === 508) {\r\n\t\tnotificationParam.message = 'Time Out'\r\n\t}\r\n\r\n\tnotification.error(notificationParam)\r\n\r\n\treturn Promise.reject(error);\r\n});\r\n\r\nexport default service","import fetch from 'auth/FetchInterceptor'\r\n\r\nconst JwtAuthService = {}\r\n\r\nJwtAuthService.login = function (data) {\r\n\treturn fetch({\r\n\t\turl: '/posts',\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n      'public-request': 'true'\r\n    },\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nJwtAuthService.signUp = function (data) {\r\n\treturn fetch({\r\n\t\turl: '/auth/signup',\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n      'public-request': 'true'\r\n    },\r\n\t\tdata: data\r\n\t})\r\n}\r\n\r\nexport default JwtAuthService","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { LockOutlined, MailOutlined } from \"@ant-design/icons\";\r\nimport { Button, Form, Input, Alert } from \"antd\";\r\nimport { showAuthMessage, showLoading, hideAuthMessage, authenticated } from \"redux/actions/Auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport JwtAuthService from \"services/JwtAuthService\";\r\n\r\nconst rules = {\r\n    email: [\r\n        {\r\n            required: true,\r\n            message: \"Please input your email address\",\r\n        },\r\n        {\r\n            type: \"email\",\r\n            message: \"Please enter a validate email!\",\r\n        },\r\n    ],\r\n    password: [\r\n        {\r\n            required: true,\r\n            message: \"Please input your password\",\r\n        },\r\n    ],\r\n    confirm: [\r\n        {\r\n            required: true,\r\n            message: \"Please confirm your password!\",\r\n        },\r\n        ({ getFieldValue }) => ({\r\n            validator(rule, value) {\r\n                if (!value || getFieldValue(\"password\") === value) {\r\n                    return Promise.resolve();\r\n                }\r\n                return Promise.reject(\"Passwords do not match!\");\r\n            },\r\n        }),\r\n    ],\r\n};\r\n\r\nexport const RegisterForm = props => {\r\n    const {\r\n        showLoading,\r\n        token,\r\n        loading,\r\n        redirect,\r\n        message,\r\n        showMessage,\r\n        hideAuthMessage,\r\n        authenticated,\r\n        allowRedirect,\r\n    } = props;\r\n    const [form] = Form.useForm();\r\n    let history = useHistory();\r\n\r\n    const onSignUp = () => {\r\n        form.validateFields()\r\n            .then(values => {\r\n                showLoading();\r\n                const fakeToken = \"fakeToken\";\r\n                JwtAuthService.signUp(values)\r\n                    .then(resp => {\r\n                        authenticated(fakeToken);\r\n                    })\r\n                    .then(e => {\r\n                        showAuthMessage(e);\r\n                    });\r\n            })\r\n            .catch(info => {\r\n                console.log(\"Validate Failed:\", info);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (token !== null && allowRedirect) {\r\n            history.push(redirect);\r\n        }\r\n        if (showMessage) {\r\n            setTimeout(() => {\r\n                hideAuthMessage();\r\n            }, 3000);\r\n        }\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <motion.div\r\n                initial={{ opacity: 0, marginBottom: 0 }}\r\n                animate={{\r\n                    opacity: showMessage ? 1 : 0,\r\n                    marginBottom: showMessage ? 20 : 0,\r\n                }}>\r\n                <Alert\r\n                    type='error'\r\n                    showIcon\r\n                    message={message}></Alert>\r\n            </motion.div>\r\n            <Form\r\n                form={form}\r\n                layout='vertical'\r\n                name='register-form'\r\n                onFinish={onSignUp}>\r\n                <Form.Item\r\n                    name='email'\r\n                    label='Email'\r\n                    rules={rules.email}\r\n                    hasFeedback>\r\n                    <Input prefix={<MailOutlined className='text-primary' />} />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name='password'\r\n                    label='Password'\r\n                    rules={rules.password}\r\n                    hasFeedback>\r\n                    <Input.Password prefix={<LockOutlined className='text-primary' />} />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name='confirm'\r\n                    label='ConfirmPassword'\r\n                    rules={rules.confirm}\r\n                    hasFeedback>\r\n                    <Input.Password prefix={<LockOutlined className='text-primary' />} />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        type='primary'\r\n                        htmlType='submit'\r\n                        block\r\n                        loading={loading}>\r\n                        Sign Up\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n    const { loading, message, showMessage, token, redirect } = auth;\r\n    return { loading, message, showMessage, token, redirect };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    showAuthMessage,\r\n    hideAuthMessage,\r\n    showLoading,\r\n    authenticated,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm);\r\n","import React from 'react'\r\nimport RegisterForm from '../../components/RegisterForm'\r\nimport { Row, Col } from \"antd\";\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst backgroundURL = '/img/others/img-17.jpg'\r\nconst backgroundStyle = {\r\n\tbackgroundImage: `url(${backgroundURL})`,\r\n\tbackgroundRepeat: 'no-repeat',\r\n\tbackgroundSize: 'cover'\r\n}\r\n\r\nconst RegisterTwo = props => {\r\n\tconst theme = useSelector(state => state.theme.currentTheme)\r\n\r\n\treturn (\r\n\t\t<div className={`h-100 ${theme === 'light' ? 'bg-white' : ''}`}>\r\n\t\t\t<Row justify=\"center\" className=\"align-items-stretch h-100\">\r\n\t\t\t\t<Col xs={20} sm={20} md={24} lg={16}>\r\n\t\t\t\t\t<div className=\"container d-flex flex-column justify-content-center h-100\">\r\n\t\t\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t\t\t<Col xs={24} sm={24} md={20} lg={12} xl={8}>\r\n\t\t\t\t\t\t\t\t<h1>Sign Up</h1>\r\n\t\t\t\t\t\t\t\t<p>Already have an account? <a href=\"/auth/login-2\">Sign In</a></p>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<RegisterForm {...props} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={0} sm={0} md={0} lg={8}>\r\n\t\t\t\t\t<div className=\"d-flex flex-column justify-content-between h-100 px-4\" style={backgroundStyle}>\r\n\t\t\t\t\t\t<div className=\"text-right\">\r\n\t\t\t\t\t\t\t<img src=\"/img/logo-white.png\" alt=\"logo\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t\t\t<Col xs={0} sm={0} md={0} lg={20}>\r\n\t\t\t\t\t\t\t\t<img className=\"img-fluid mb-5\" src=\"/img/others/img-19.png\" alt=\"\"/>\r\n\t\t\t\t\t\t\t\t<h1 className=\"text-white\">Welcome to emilus</h1>\r\n\t\t\t\t\t\t\t\t<p className=\"text-white\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ullamcorper nisl erat, vel convallis elit fermentum pellentesque.</p>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end pb-4\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<a className=\"text-white\" href=\"/#\" onClick={e => e.preventDefault()}>Term & Conditions</a>\r\n\t\t\t\t\t\t\t\t<span className=\"mx-2 text-white\"> | </span>\r\n\t\t\t\t\t\t\t\t<a className=\"text-white\" href=\"/#\" onClick={e => e.preventDefault()}>Privacy & Policy</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RegisterTwo\r\n"],"sourceRoot":""}